<!-- wiki -->
[Game_Modes wikilink]: ../ "游戏模式"
[osu! wikilink]: /wiki/Game_Modes/osu! "osu!"
[osu!taiko wikilink]: /wiki/Game_Modes/osu!taiko/ "osu!taiko"
[Play_Styles#osu!mania wikilink]: /wiki/Play_Styles/#osu-mania "more info can be found on Play Styles under osu!mania"
[Co-Op wikilink]: /wiki/Game_Modifiers "more info can be found on Game Modifiers under Co-Op"
[xK wikilink]: /wiki/Game_Modifiers "more info can be found on Game Modifiers under xK"
[Score#osu!maniaSV wikilink]: /wiki/Score/#osu-mania "more info can be found on Score under osu!mania Scoring Values"
[Options#Keyboard wikilink]: /wiki/Options/#keyboard "more info can be found on Options under Keyboard"
[Skinning#osu!mania wikilink]: /wiki/Skinning/osu!mania/ "osu!mania Skinning"
[Hidden wikilink]: /wiki/Game_Modifiers "more info can be found on Game Modifiers under Hidden"
[Fade In wikilink]: /wiki/Game_Modifiers "more info can be found on Game Modifiers under Fade In"
[Flashlight wikilink]: /wiki/Game_Modifiers "more info can be found on Game Modifiers under Flashlight"
[Mascots#Maria wikilink]: /wiki/Mascots/#maria "more info can be found on Mascots under Maria"
[Auto wikilink]: /wiki/Game_Modifiers "more info can be found on Game Modifiers under Auto"

<!-- osu!mania specific -->
[osu!mania logo]: ./img/Mania_logo.png "osu!mania logo in Special Mode"
[osu!mania SC image]: ./img/Mania_SC.jpg "速度值位于右上方"
[osu!mania SCDiff image]: ./img/Mania_SCDifference.png "调整速度可以根据谱面密度"
[设置通配]: ./img/Mania_Scale.png "在选项栏禁用此项来开启通配`按BPM调整 osu!mania 下落速度`"

<!-- shared image -->
[osu!mania icon link]: /wiki/shared/mode/mania.png "osu!mania 图标"
[osu!mania 游戏区]:  /wiki/shared/Mania_playfield.jpg "osu!mania 游戏区"
[osu!mania 音符]: /wiki/shared/Mania_notes.jpg "osu!mania 音符"
[osu!mania 长压音符]: /wiki/shared/Mania_holdnotes.jpg "osu!mania 长压音符"
[osu!mania 界面]: /wiki/shared/Interface_mania.jpg "osu!mania 界面"
[osu!mania 按键输入]: /wiki/shared/Mania_key_layouts.jpg "osu!mania 按键输入"
[osu!mania 按键输入2]: /wiki/shared/Mania_key_layouts2.jpg "osu!mania 按键输入（Co-Op）"
[osu!mania 专用编辑器]: /wiki/shared/Editor_Mania.png "osu!mania 专用编辑器"
[osu!mania SSD image]: /wiki/shared/Song_Setup_Difficulty_Mania.jpg "osu!mania 专用难度设置"
[设置键位]: /wiki/shared/Options_keyboard.jpg "设置键盘键位"

<!-- Title -->

# osu!mania

**[单击返回游戏模式页][Game_Modes wikilink]**

<!-- Uncomment the below and delete this comment if ScoreV2 is official and the whole page must be revised to fit ScoreV2 system behaviour -->
<!-- **[Click here to visit the older version of osu!mania using deprecated ScoreV1 system](./v1 "osu!mania v1")** -->

![osu!mania玩法][osu!mania 界面]

这个模式在几乎所有的节奏游戏中都得到了广泛的应用。
音符（其数量取决于BPM和困难）移动在轨道上需要良好的手和/或腿协调。
玩家必须在特定的时间内按下正确的键。
虽然这个游戏模式最初是模仿狂热节拍风格的玩法，但是osu!mania允许改变键数或垂直翻转轨道运动的方向（这意味着它可以看起来更像吉他英雄【5键】或热舞革命【4键】等。

这有点类似于[osu!taiko][osu!taiko wikilink]， 但它有更多的按钮音符垂直移动而不是水平移动。

## ![osu!mania 图标][osu!mania icon link] 游戏说明

### 选择歌曲

按下`Ctrl`+`4`即可选择【osu!mania】模式。

或者点击`模式`按钮并选择`osu!mania`。

#### 按键和判定

在歌曲选择页面，旁边的_K_ 数字表示有多少个键可玩。
如果在_K_后面有"↓"符号，意味着它比一般情况下的判定时机宽松。

比如，_4K↓_ 表示它比一般情况下的4K判定时机宽松。

请注意，谱面的判定是自动确定的。

#### osu!专谱与由osu!谱面转换的转谱之间的差异

当选择转谱时，默认的按键范围为4k-7k。

使用[xK][xK wikilink] 游戏MOD，玩家可以手动设置1-9K按键数，并且分数乘数减少
然而游戏MOD不能修改osu!mania专谱的按键数

使用[Co-Op][Co-Op wikilink]游戏MOD，这将使面板分成两个来进行合作控制，并允许玩家玩2-18K同时得分乘数减少
请注意，专谱的预置键数不会被翻倍，而是拆分两个部分（如果按键数是奇数则左面板优先，比如7K将拆分成4+3），使用Co-Op的情况下没有得分乘数还原。

#### 速度的调整

![速度值位于右上方][osu!mania SC image]

_右上角显示下落速度。
该图像显示了BPM比例倍速（适配速度）和固定倍速（通配速度）之间的区别。_

**音符的滚动速度**可以通过`Ctrl`（或`Shift`）和`+`(加速)/`-`(减速)命令来改变。

最低是1，最高是40。

##### BPM比例倍速（适配速度）和固定倍速（通配速度）。

![调整速度可以根据谱面密度][osu!mania SCDiff image]

_速度的调整可以根据谱面的密度、BPM和缩放系统来使用(上图使用的速度值为1)_

**BPM 适配** 是当前默认的倍速系统，它相对于谱面的BPM进行倍速调整。
使用相同的适配倍速时，100BPM（更慢）与200BPM（更快）的下落速度是不同的

![禁用此项来开启通配`按BPM调整 osu!mania 下落速度`][设置通配]

_禁用此项来开启通配`按BPM调整 osu!mania 下落速度`_

**通配** 是一种新的系统，它将对当前BPM强制使用固定速度。
[在2014年10月29日，Blazier对固定速度做了一个非常简单的介绍](https://osu.ppy.sh/forum/t/254145).

请注意，这两种倍速系统仍然会受到BPM变速/速度的影响, 范围由强（通常是BPM过度到一个更高的BPM和更快的音符；更低的BPM用于固定音符密度）到弱（通常用于固定大多数BPM范围）

### 游戏玩法

#### 游戏区

![osu!mania 游戏区][osu!mania 游戏区]

_在osu!mania的游戏区界面_

默认情况下，音符是从轨道的上下开始滚动（开始箭头显示音符的运动方向），通过底部的按键和按键面板上面的判定线来控制。可以在`Options`里更改成自下而上的方向；点击`输入`区的`osu!mania键位排列`，开启`上下颠倒（DDR风格）`。

血量槽位于轨道面板的右侧。
请注意，在osu!mania中血量自动流失是禁用的，所以只有命中音符才会影响血量槽。
连击不会在无音符时被空判定打断。

**音符的滚动速度**可以用`Ctrl`（或`Shift`）和`+` (加速) / `-` (减速)或者只按`F3`(更快)/`F4`(更慢)。

#### 音符

![osu!mania的音符][osu!mania 音符]

_有连续音符与多压音符的经典玩法_

音符是osu!mania的打击圈。
落下的音符必须在判定线上敲击，对于每一个音符都要与正确的按键相对应。
当同时落下多个音符时，必须同时敲击与音符相对应的键。

当按下正确的键在判定区时，会得到一个判定得分图。

#### 长压音符（面条）

![osu!mania的长压音符][osu!mania 长压音符]

_有长压音符（面条）的经典玩法_

面条相当于osu!mania的滑条和转盘。
当面条到达判定线时，用正确的键按住面条头，并在面条尾准确松开。

血槽会在按住面条时缓慢上升。
在一些怪异谱面中，会出现音符重叠到已经按住的面条里面的情况。

## 游戏方式

**[参考osu!mania下的游戏方式][Play_Styles#osu!mania wikilink]**

## 控制

![设置键位][设置键位]

_[参考 Options→输入 下的键盘设置, 特别是`osu!mania 键位排列` 按钮来调整按键设置][Options#Keyboard wikilink]_

请注意，以下提供的预置信息是指默认用于将按键映射到所有按键的设置。

新的键位需要玩家手动设置，使用`osu!mania 键位排列`按钮

当前默认的按键设置是基于_对称_风格。

### 一般

![osu!mania的默认按键（Options→输入）][osu!mania 按键输入]

_过去_有两种不同的布局风格, _对称_和_从左到右_

- _对称_风格是模仿_DJMAX_的按键位置，中心控制键是模拟踩踏板类街机音游的感觉。
  中心键匹配轨道中心（仅限奇数键），其他轨道匹配其对应的键。
- _从左到右_风格模仿_Beatmania IIDX_的按键位置，第一列轨道匹配_key1_，然后第二列轨道匹配_key2_，以此类推。
  - 不管怎样，设置选项已被删除，目前的风格是基于“对称”风格。
    出于遗产的原因，“从左到右”的风格保存在这里。

_对称_按键布局（_DJMAX_风格）
- _左手_键位 — (K1)`A`, (K2)`S`, (K3)`D`, (K4)`F`
- _右手_键位 — (K6)`J`, (K7)`K`, (K8)`L`, (K9)`;`。
- _中心_键位 — (K5)`Spacebar`，【仅限奇数键】
- _特殊_键位 — `leftShift`【使用特殊风格】和`leftCtrl`【切换绑定】。

Key | L | C | R
:---:|:---|:---:|---:
1K|-|K5|
2K|K4|-|K6
3K|K4|K5|K6
4K|K3, K4|-|K6, K7
5K|K3, K4|K5|K6, K7
6K|K2, K3, K4|-|K6, K7, K8
6K(L)|**S1**, K3, K4|K5|K6, K7
6K(R)|K3, K4|K5|K6, K7, **S1**
7K|K2, K3, K4|K5|K6, K7, K8
8K|K1, K2, K3, K4|-|K6, K7, K8, K9
8K(L)|**S1**, K2, K3, K4|K5|K6, K7, K8
8K(R)|K2, K3, K4|K5|K6, K7, K8, **S1**
9K|K1, K2, K3, K4|K5|K6, K7, K8, K9

_从左到右_按键布局（_Beatmania IIDX_风格）
- 从下到上再从下到上：(K1)`Z`, (K2)`S`, (K3)`X`, (K4)`D`, (K5)`C`, (K6)`F`, (K7)`V`, (K8)`G`, (K9)`B` 【K9未被使用】
- _特殊_键位 — `leftShift`和`leftCtrl`。

键数 | 布局
:---:|:---
4K|K1, K2, -, K4, K5
5K|K1, K2, K3, K4, K5
6K|K1, K2, K3, K4, K5, K6
7K|K1, K2, K3, K4, K5, K6, K7
8K|K1, K2, K3, K4, K5, K6, K7, K8
8K(L)|**S1**, K1, K2, K3, K4, K5, K6, K7
8K(R)|K1, K2, K3, K4, K5, K6, K7, **S1**

- 注释：请参考图片使用的风格。

### Co-Op合作

![osu!mania的默认按键（Co-Op）][osu!mania 按键输入2]

**[2015年3月5日（2015-03-05）更新](http://osu.ppy.sh/p/changelog?v=b20150305)**给osu!mania添加了一个新MOD——合作[Co-Op][Co-Op wikilink].
开启这个MOD后，将添加一个含有一套不同音符的新面板。

_对称_布局的第二套方案

- _左手_键位 — (B1)`Q`, (B2)`W`, (B3)`E`, (B4)`R`
- _右手_键位 — (B6)`U`, (B7)`I`, (B8)`O`, (B9)`P`。
- _中心_键位 — (B5)`rightAlt`。【仅限奇数键】
- _特殊_键位 - (X1)`rightShift` 【使用特殊风格】或`rightCtrl`【切换绑定】。

**下表是基于XK MOD配合Co-Op MOD。**

Key | PL | PC | PR | SL | SC | SR
:---:|:---|:---:|---:|:---|:---:|---:
1K Co-op|-|K5|-|-|B5|-
2K Co-op|K4|-|K6|B4|-|B6
3K Co-op|K4|K5|K6|B4|B5|B6
4K Co-op|K3, K4|-|K6, K7|B3, B4|-|B6, B7
5K Co-op|K3, K4|K5|K6, K7|B3, B4|B5|B6, B7
6K Co-op|K2, K3, K4|-|K6, K7, K8|B2, B3, B4|-|B6, B7, B8
6K(L) Co-op|**S1**, K3, K4|K5|K6, K7|B3, B4|B5|B6, B7, **X1**
6K(R) Co-op|K3, K4|K5|K6, K7, **S1**|**X1**, B3, B4|B5|B6, B7
7K Co-op|K2, K3, K4|K5|K6, K7, K8|B2, B3, B4|B5|B6, B7, B8
8K Co-op|K1, K2, K3, K4|-|K6, K7, K8, K9|B1, B2, B3, B4|-|B6, B7, B8, B9
8K(L) Co-op|**S1**, K2, K3, K4|K5|K6, K7, K8|B2, B3, B4|B5|B6, B7, B8, **X1**
8K(R) Co-op|K2, K3, K4|K5|K6, K7, K8, **S1**|**X1**, B2, B3, B4|B5|B6, B7, B8
9K Co-op|K1, K2, K3, K4|K5|K6, K7, K8, K9|B1, B2, B3, B4|B5|B6, B7, B8, B9

**下表只适用于osu!mania专谱。
只描述奇数xK的详情。
指的是第一个表中偶数xK那部分(对于具体的4K参考2K Co-op，等等)。**

Key | PL | PC | PR | SL | SC | SR
:---:|:---|:---:|---:|:---|:---:|---:
3K|K4|-|K6|-|B5|-
5K|K4|K5|K6|B4|-|B6
7K|K3, K4|-|K6, K7|B4|B5|B6
9K|K3, K4|-|K6, K7|B3, B4|B5|B6, B7

## 评分

_[得分值可以在osu!mania得分值部分找到][Score#osu!maniaSV wikilink]_

计分部分详述了包括数学公式的所有得分的复杂性。

### 得分评级

评级| 条件
:---:|:---
SS   | 100% 准度 (只有 MAX 和/或 300).
S    | 超过 95% 准度（一个'S'评级甚至可能有几次失误，比如 _osu!catch_）。
A    | 超过 90% 准度。
B    | 超过 80% 准度。
C    | 超过 70% 准度。
D    | 其他任何情况。

可以用过开启[Hidden][Hidden wikilink]/[Fade In][Fade In wikilink] 或者[Flashlight][Flashlight wikilink] MOD来获得SSH or SH 评级（银色 S 或 SS）。

### 准确度

这个模式的准度计算类似于[osu!standard][osu! wikilink]。

换句话说：`准确度 = 命中总分数 / （命中总数）`

术语 | 公式
:---:|:---
**命中总分数** | （50数 * 50 + 100数 * 100 + 200数 * 200 + 300数 * 300 + 彩300数 * 300）
**命中总数** | （miss数 + 50数 + 100数 + 200数 + 300数 + 彩300数）

请注意，MAX（彩300）和300都是计算判定的最大值，尽管在得分方面彩300的值大于300。

### 得分

每谱面都具有相同的总得分，最高为100万（1000000）。

得分分为两个部分——基础得分和加成得分，每种得分占总分的50%。

- 基础得分是基于命中判定。
  - 彩300的值比300多一点。
- 加成分数是基于命中判定和浮动加成乘数。
  - 加成由彩虹300或300增加，由200或以下减少。
  - 判定越好，加成越大/惩罚越少。
    - 加成有一个上限。

每个音符的分数用下面的公式计算：-

```
得分 = 基础得分 + 加成得分

基础得分 = (最大分数 * MOD加成  * 0.5 / 总音符数) * (命中值 / 320)

加成得分 = (最大分数 * MOD加成  * 0.5 / 总音符数） * （命中加成值 * 平方根（加成） / 320)
加成 = 命中前的加分 + 命中加分 - 命中惩罚 / MOD规则
加分限制在[0, 100]，开始于100。

最大分数 = 1000000
MOD乘数 = 被选中的MODS的得分加成 （难度降低和/或nK）
MOD规则 = 被选中的MODS的惩罚规则 (难度增加)

  判定     命中值   命中加成值      命中加分     命中惩罚
   MAX       320          32            2
   300       300          32            1
   200       200          16                        8
   100       100           8                       24
    50        50           4                       44
  Miss         0           0                        ∞

       MOD    MOD加成       MOD规则
      Easy       0.5
    NoFail       0.5
  HalfTime       0.5
  HardRock                    1.08
DoubleTime                     1.1
 NightCore                     1.1
    FadeIn                    1.06
    Hidden                    1.06
Flashlight                    1.06
```

### 命中的判定

**音符**

- 一个音符的MAX (rainbow 300), 300, 200, 100 或 50 取决于击中的时机。
- 当错过一个音符或是按下过早时会出现一个MISS。

**面条**

- 面条的判定取决于开头长压和结尾释放。
- 保持长压到面条结尾，在首尾都完美命中：MAX（彩300）。
- 长压到最后没有释放音符：200
- 出现_NG_并且没有重新按住音符：Miss
- 出现_NG_并且按迟面条：50

NG: _非Good_，在_StepMania/DDR_术语中，它表示面条按中状态时中途松开。即断面。

### 分数/连击 加成

**下面每一步为分数加上一个乘数:-**

- 按下对应音符的正确的键。
- 用正确的键按住面条。

**下面将把分数乘数重置为零:-**

- 未完成音符
- 按住面条中途释放

**以下不会增加或重置分数乘数:-**

- 在面条尾释放

## 血量槽

血量计算系统是很复制的，这里不会详细解释。
这依据HP难度设置，只能由谱面本身设置。

**以下会使血量恢复:-**

- 打出彩300，300，200。
- 正确按住面条。

**以下会使血量下降:-**

- 打出50或Miss。

**以下将保持血量在血量槽内:-**

- 无。

## 皮肤

**[参考osu!mania皮肤的全部信息][Skinning#osu!mania wikilink]**

## 作图

### osu!mania 专用编辑器

![osu!mania 专用编辑器][osu!mania 专用编辑器]

_osu!mania 专用编辑器_

访问 osu!mania 专用编辑器改变Advanced选项卡下的歌曲设置为 osu!mania 模式。
请注意，只有将 _All_ 更改为 _osu!mania_ 时谱面才会锁定为 osu!mania。

![更改按键数][osu!mania SSD image]

_更改强制按键数_

在Song Setup下设置下难度标签并调整_Key数_以更改强制按键数。
开启`Co-op 模式`强制游戏变成双倍_Key数_。

## 碎碎念

### 玩法

- 当Key数和开启的xK或者Co-Op MOD后的Key数相同时，将不给予减分。
  - 例如，一个4K谱面，使用2K+Co-Op后不会导致任何减分。
  - 同理，对于5K谱面使用5K MOD时也不会减分。
  - 在osu!mania中使用xK 或者 Co-Op MOD也将不会导致任何减分。
- osu!mania的吉祥物是[Maria][Mascots#Maria wikilink]。
- 当使用[Auto][Auto wikilink]游戏时，玩家的名字将变成_osu!topus_。

### 历史

![特殊模式中的osu!mania logo][osu!mania logo]

_ 在弃置的特殊模式中的osu!mania logo_

- osu!mania 发布于 [**2012年10月08日(2012-10-08)**，主要由**woc2006**实现](http://osu.ppy.sh/forum/p/1825880).
- 旧osu!mania 编辑器 _曾_要求谱面在osu!游戏页面放置打击圈/滑条，然后根据位置和打击对象用适当的音符将其转换到适当位置。
- 第一张被正式ranked的osu!mania专谱谱面的是[fripSide - only my railgun (TV Size) (DJPop)](https://osu.ppy.sh/s/63089 "fripSide - only my railgun (TV Size) (DJPop)").

## 查询标记

- [公告栏](http://osu.ppy.sh/forum/p/1825880)
